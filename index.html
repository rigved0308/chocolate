<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chocolate Day Surprise ‚Äî My Love</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#240026;
      --bg2:#3a0c3b;
      --bg3:#1a001d;
      --pink:#ff69b4;
      --rose:#ff2d92;
      --gold:#ffd166;
      --violet:#8a2be2;
      --glass:rgba(255,255,255,.10);
      --stroke:rgba(255,255,255,.22);
      --shadow:0 32px 90px rgba(0,0,0,.55);
      --r:30px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:#fff;
      min-height:100vh;
      overflow-x:hidden;
      overflow-y:auto;
      background:
        radial-gradient(1200px 800px at 15% 20%,rgba(255,105,180,.18),transparent 60%),
        radial-gradient(1000px 700px at 80% 15%,rgba(138,43,226,.20),transparent 60%),
        radial-gradient(900px 600px at 40% 95%,rgba(255,209,102,.16),transparent 65%),
        linear-gradient(135deg,var(--bg1),var(--bg2) 45%,var(--bg3));
    }

    .bg{position:fixed;inset:0;z-index:0;pointer-events:none}
    .blob{
      position:absolute;width:min(55vw,640px);aspect-ratio:1;border-radius:50%;
      filter:blur(45px);opacity:.32;animation:blob 18s ease-in-out infinite;
    }
    .b1{left:-12%;top:-18%;background:radial-gradient(circle at 25% 30%,rgba(255,105,180,.9),transparent 60%);animation-duration:22s}
    .b2{right:-18%;top:2%;background:radial-gradient(circle at 40% 35%,rgba(138,43,226,.9),transparent 60%);animation-duration:25s}
    .b3{left:5%;bottom:-22%;background:radial-gradient(circle at 50% 40%,rgba(255,209,102,.9),transparent 70%);animation-duration:28s}
    @keyframes blob{
      0%,100%{transform:translate(0,0) scale(1);opacity:.32}
      50%{transform:translate(40px,-30px) scale(1.07);opacity:.42}
    }

    main{
      position:relative;z-index:2;
      padding:26px 16px 80px;
      display:flex;justify-content:center;
    }
    .wrap{width:min(1000px,100%)}

    .glass{
      border:1px solid var(--stroke);
      background:var(--glass);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      backdrop-filter:blur(22px);
      -webkit-backdrop-filter:blur(22px);
    }

    .topbar{
      padding:14px 16px;
      display:flex;justify-content:space-between;align-items:center;gap:14px;
      margin-bottom:20px;
      border-radius:22px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.16);
    }
    .brand{display:flex;align-items:center;gap:12px}
    .badge{
      width:44px;height:44px;border-radius:16px;
      display:grid;place-items:center;
      background:linear-gradient(135deg,var(--rose),var(--violet));
      box-shadow:0 14px 36px rgba(138,43,226,.45);
      font-size:24px;
    }
    .name{font-family:"Dancing Script",cursive;font-size:24px}
    .tag{font-size:12.5px;opacity:.85}
    .pill{
      padding:8px 12px;border-radius:999px;
      border:1px solid rgba(255,255,255,.2);
      background:rgba(255,255,255,.08);
      font-size:12.5px;opacity:.9;
    }

    .hero{
      display:grid;grid-template-columns:1.05fr .95fr;
      gap:20px;margin-bottom:24px;
    }
    @media(max-width:860px){.hero{grid-template-columns:1fr}}

    .heroLeft{padding:26px 22px;display:flex;flex-direction:column;gap:16px}
    h1{
      margin:2px 0 4px;
      font-family:"Dancing Script",cursive;
      font-size:clamp(2.8rem,7vw,5rem);
      background:linear-gradient(90deg,var(--pink),var(--gold),var(--rose),var(--violet));
      background-size:350% 100%;
      -webkit-background-clip:text;background-clip:text;color:transparent;
      animation:shimmer 5s ease-in-out infinite;
      text-shadow:0 0 40px rgba(255,105,180,.35);
    }
    @keyframes shimmer{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
    .subtitle{margin:0;opacity:.9;font-size:14.5px;line-height:1.7}

    .heroActions{margin-top:12px;display:flex;flex-wrap:wrap;gap:12px}
    .btn,.btn2{
      border-radius:999px;border:none;cursor:pointer;
      padding:14px 20px;min-width:210px;
      font-weight:700;font-size:14.5px;
      transition:transform .2s ease,box-shadow .2s ease,background .2s ease;
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
    }
    .btn{
      background:linear-gradient(135deg,var(--gold),#ffeaa7);
      color:#3a1a4a;box-shadow:0 22px 60px rgba(255,209,102,.35);
    }
    .btn:hover{transform:translateY(-5px);box-shadow:0 30px 80px rgba(255,209,102,.45)}
    .btn2{
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.22);
      color:#fff;box-shadow:0 18px 50px rgba(0,0,0,.35);
    }
    .btn2:hover{transform:translateY(-5px);background:rgba(255,255,255,.14);box-shadow:0 26px 70px rgba(138,43,226,.3)}

    .heroRight{padding:20px}
    .photoBox{
      border-radius:26px;border:1px solid rgba(255,255,255,.2);
      background:rgba(0,0,0,.18);
      box-shadow:0 26px 80px rgba(0,0,0,.5);
      overflow:hidden;position:relative;
    }
    .photoWrapper{
      height:320px;
      position:relative;
      overflow:hidden;
      display:grid;
      place-items:center;
    }
    .photoWrapper img{
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center bottom;
      display:block;
      filter:brightness(1.05) contrast(1.05);
      animation:photoPulse 5s ease-in-out infinite;
    }
    @keyframes photoPulse{
      0%,100%{transform:scale(1);}
      50%{transform:scale(1.03);}
    }
    .photoFallback{
      font-size:72px;display:none;
      animation:heartbeat 1.5s ease-in-out infinite;
    }
    @keyframes heartbeat{
      0%,100%{transform:scale(1);}
      25%{transform:scale(1.18);}
      50%{transform:scale(1);}
      75%{transform:scale(1.12);}
    }

    .gifRow{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:10px;
      padding:12px;
      background:rgba(255,255,255,.04);
      border-top:1px solid rgba(255,255,255,.16);
    }
    @media(max-width:600px){.gifRow{grid-template-columns:repeat(2,1fr)}}

    .gifCard{
      border-radius:20px;
      border:1px solid rgba(255,255,255,.2);
      background:rgba(0,0,0,.22);
      box-shadow:0 18px 50px rgba(0,0,0,.4);
      position:relative;
      overflow:hidden;
      display:grid;place-items:center;
      cursor:pointer;
      transition:transform .2s ease,box-shadow .2s ease;
    }
    .gifCard:hover{transform:translateY(-4px) scale(1.03);box-shadow:0 26px 70px rgba(255,105,180,.3)}
    .gifEmoji{font-size:42px;}
    .gifLabel{
      position:absolute;left:8px;bottom:8px;
      padding:5px 9px;font-size:11px;border-radius:999px;
      background:rgba(0,0,0,.5);
      border:1px solid rgba(255,255,255,.25);
      backdrop-filter:blur(8px);
    }
    .gifCard.teddy .gifEmoji{animation:teddyDance 1.9s infinite}
    @keyframes teddyDance{
      0%,100%{transform:translateY(0) rotate(0deg);}
      25%{transform:translateY(-14px) rotate(-12deg);}
      75%{transform:translateY(-14px) rotate(12deg);}
    }
    .gifCard.hearts .gifEmoji{animation:heartPulse 1.5s infinite}
    @keyframes heartPulse{
      0%,100%{transform:scale(1);opacity:1;}
      50%{transform:scale(1.4);opacity:.7;}
    }
    .gifCard.choco .gifEmoji{animation:chocoDrip 2.3s infinite}
    @keyframes chocoDrip{
      0%{transform:translateY(0);}
      70%{transform:translateY(12px);}
      100%{transform:translateY(0);}
    }
    .gifCard.hug .gifEmoji{animation:hugSway 2.1s infinite}
    @keyframes hugSway{
      0%,100%{transform:rotate(0deg);}
      50%{transform:rotate(-10deg) scale(1.06);}
    }

    .miniPills{display:flex;flex-wrap:wrap;gap:10px;padding:12px 4px 4px;}
    .miniPills .pill{background:rgba(255,255,255,.06)}

    .section{margin-top:22px;padding:24px;}
    .section h2{
      margin:0 0 10px;
      font-family:"Dancing Script",cursive;
      font-size:clamp(2rem,4.5vw,3rem);
    }

    .stepper{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0 20px;font-size:13px}
    .step{
      padding:9px 13px;border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.06);
      cursor:pointer;user-select:none;
      transition:transform .18s ease,background .18s ease,box-shadow .18s ease,border-color .18s ease;
    }
    .step:hover{transform:translateY(-3px);background:rgba(255,255,255,.1);}
    .step.active{border-color:rgba(255,209,102,.7);background:rgba(255,255,255,.14);box-shadow:0 18px 50px rgba(255,209,102,.24);}

    .bigMsg{
      font-size:clamp(1.1rem,2.3vw,1.65rem);
      line-height:1.8;
      margin:0;
      min-height:120px;
    }
    .type{
      display:inline-block;
      border-right:2px solid rgba(255,209,102,.9);
      padding-right:3px;
      animation:caret 900ms steps(1) infinite;
    }
    @keyframes caret{50%{border-right-color:transparent}}

    .longLetter{
      margin-top:26px;
      padding:20px 18px;
      border-radius:22px;
      background:rgba(0,0,0,.32);
      border:1px solid rgba(255,255,255,.2);
      max-height:260px;
      overflow:auto;
      font-size:14.5px;
      line-height:1.7;
      scrollbar-color:rgba(255,105,180,.7) transparent;
      scrollbar-width:thin;
    }

    .footerActions{margin-top:18px;display:flex;flex-wrap:wrap;gap:10px}
    .btnSmall{
      border-radius:999px;
      border:1px solid rgba(255,255,255,.22);
      background:rgba(255,255,255,.08);
      color:#fff;
      padding:9px 13px;
      font-size:13px;
      cursor:pointer;
      transition:transform .18s ease,background .18s ease,box-shadow .18s ease;
    }
    .btnSmall:hover{transform:translateY(-3px);background:rgba(255,255,255,.14);box-shadow:0 16px 40px rgba(255,105,180,.25)}

    /* Games section */
    .games{margin-top:24px;padding:24px;}
    .games h2{
      margin:0 0 12px;
      font-family:"Dancing Script",cursive;
      font-size:clamp(2rem,4.5vw,3rem);
    }
    .gamesGrid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:18px;
      margin-top:10px;
    }
    .gameCard{
      border-radius:22px;
      border:1px solid rgba(255,255,255,.2);
      background:rgba(0,0,0,.28);
      padding:18px 16px 18px;
      box-shadow:0 22px 60px rgba(0,0,0,.45);
      min-height:210px;
    }
    .gameCard h3{margin:0 0 6px;font-size:18px}
    .gameCard p{margin:0 0 10px;font-size:13.5px;opacity:.9}

    .gameArea{
      position:relative;
      height:200px;
      margin-top:8px;
      border-radius:20px;
      background:radial-gradient(circle at 20% 20%,rgba(255,105,180,.25),transparent 60%),
                 radial-gradient(circle at 80% 80%,rgba(255,209,102,.18),transparent 60%),
                 rgba(10,0,20,.7);
      overflow:hidden;
      border:1px solid rgba(255,255,255,.18);
    }
    .gameInfo{
      display:flex;justify-content:space-between;align-items:center;
      font-size:13px;margin-top:10px;opacity:.95;
    }
    .heartToken{
      position:absolute;
      width:42px;height:42px;border-radius:50%;
      display:grid;place-items:center;
      font-size:26px;
      cursor:pointer;
      transform:translate(-50%,-50%);
      animation:floatUp 1.6s linear forwards;
      box-shadow:0 10px 24px rgba(0,0,0,.45);
    }
    .heartToken.gold{
      font-size:30px;
      animation-duration:1.3s;
      filter:drop-shadow(0 0 14px rgba(255,215,0,.8));
    }
    @keyframes floatUp{
      0%{transform:translate(-50%,40px) scale(.85);opacity:1;}
      100%{transform:translate(-50%,-80px) scale(1.15);opacity:0;}
    }

    .loveRange{width:100%;margin:10px 0;}
    .loveLabel{font-size:14px;margin-bottom:6px;}
    .loveResult{margin-top:10px;font-size:14px;opacity:.95;}

    .memoryGrid{
      display:grid;
      grid-template-columns:repeat(4,minmax(40px,1fr));
      gap:8px;
      margin-top:8px;
    }
    .memoryCard{
      aspect-ratio:3/4;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.22);
      background:rgba(0,0,0,.45);
      display:grid;place-items:center;
      font-size:26px;
      cursor:pointer;
      user-select:none;
      transition:transform .18s ease,background .18s ease,box-shadow .18s ease,color .18s ease;
      color:#ffdfeff0;
    }
    .memoryCard.hiddenSymbol{
      font-size:20px;
      background:rgba(0,0,0,.55);
      color:rgba(255,255,255,.6);
    }
    .memoryCard.flipped,.memoryCard.matched{
      background:radial-gradient(circle at 30% 20%,rgba(255,105,180,.7),rgba(138,43,226,.9));
      box-shadow:0 18px 48px rgba(255,105,180,.35);
      color:#fff;
    }
    .memoryCard.matched{
      cursor:default;
      opacity:.95;
    }
    .memInfoLine{font-size:13px;margin-top:8px;opacity:.95;}
    .memMessage{margin-top:6px;font-size:13px;opacity:.95;min-height:32px;}

    .chocoRow{display:flex;gap:10px;margin-top:10px;}
    .chocoBox{
      flex:1;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.22);
      background:linear-gradient(180deg,#5a2a00,#2c1100);
      height:70px;
      display:grid;place-items:center;
      cursor:pointer;
      box-shadow:0 18px 50px rgba(0,0,0,.55);
      transition:transform .18s ease,box-shadow .18s ease,filter .18s ease;
      position:relative;
    }
    .chocoBox span{font-size:30px;}
    .chocoBox:hover{transform:translateY(-4px);box-shadow:0 26px 70px rgba(255,209,102,.45);filter:brightness(1.05);}
    .chocoBox:active{transform:translateY(-1px) scale(.98);}
    .chocoMsg{margin-top:10px;font-size:13px;opacity:.95;min-height:36px;}

    /* Particles */
    .particle{
      position:fixed;
      z-index:5;
      pointer-events:none;
      animation:rise 3.6s linear forwards;
      filter:drop-shadow(0 0 14px rgba(255,105,180,.4));
    }
    @keyframes rise{
      0%{opacity:1;transform:translateY(0) scale(.75) rotate(0deg);}
      20%{transform:translateY(-60px) scale(1.1) rotate(120deg);}
      100%{opacity:0;transform:translateY(-520px) scale(1) rotate(520deg);}
    }

    .btn:focus-visible,.btn2:focus-visible,.step:focus-visible,.gifCard:focus-visible,
    .btnSmall:focus-visible,.chocoBox:focus-visible,.memoryCard:focus-visible{
      outline:3px solid rgba(255,209,102,.9);
      outline-offset:3px;
    }

    @media(prefers-reduced-motion:reduce){
      *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
      .type{border-right:none;}
    }
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
  </div>

  <main>
    <div class="wrap">
      <header class="topbar glass">
        <div class="brand">
          <div class="badge">üç´</div>
          <div>
            <div class="name">For my love</div>
            <div class="tag">Pune ‚Üî Goa ‚Ä¢ Our Valentine week</div>
          </div>
        </div>
        <div class="pill" id="clock">‚Äì:‚Äì</div>
      </header>

      <section class="hero">
        <article class="glass heroLeft">
          <div>
            <h1>Happy Chocolate Day, my love</h1>
            <p class="subtitle">
              This Valentine week feels special because it‚Äôs ours, and somehow I‚Äôm the lucky one who gets to love you through every nervous, beautiful moment.
            </p>
            <p class="subtitle">
              Even with all these kilometers between Pune and Goa, you still feel closer than the people standing right next to me.
            </p>
          </div>

          <div class="heroActions">
            <button class="btn" id="btnGift" type="button">Open a surprise ‚ú®</button>
            <button class="btn2" id="btnStory" type="button">Read my long message üíå</button>
          </div>
        </article>

        <aside class="glass heroRight">
          <div class="photoBox">
            <div class="photoWrapper">
              <img src="image.jpg" alt="My love" id="photo" loading="eager">
              <div class="photoFallback" id="photoFallback">üíñ</div>
            </div>

            <div class="gifRow">
              <button class="gifCard teddy" type="button" data-pop="üß∏">
                <div class="gifEmoji">üß∏</div>
                <span class="gifLabel">Teddy</span>
              </button>
              <button class="gifCard hearts" type="button" data-pop="üíó">
                <div class="gifEmoji">üíó</div>
                <span class="gifLabel">Hearts</span>
              </button>
              <button class="gifCard choco" type="button" data-pop="üç´">
                <div class="gifEmoji">üç´</div>
                <span class="gifLabel">Choco</span>
              </button>
              <button class="gifCard hug" type="button" data-pop="ü§ó">
                <div class="gifEmoji">ü§ó</div>
                <span class="gifLabel">Hug</span>
              </button>
            </div>

            <div class="miniPills">
              <div class="pill">From: Pune</div>
              <div class="pill">To: Goa</div>
              <div class="pill">üíï Long-distance, strong love</div>
            </div>
          </div>
        </aside>
      </section>

      <section class="glass section" id="story">
        <h2>My soft little love letter</h2>

        <div class="stepper">
          <button class="step active" data-step="0" type="button">1 ‚Ä¢ Us</button>
          <button class="step" data-step="1" type="button">2 ‚Ä¢ Distance</button>
          <button class="step" data-step="2" type="button">3 ‚Ä¢ Today</button>
          <button class="step" data-step="3" type="button">4 ‚Ä¢ Tomorrow</button>
          <button class="step" data-step="4" type="button">5 ‚Ä¢ Always</button>
        </div>

        <p class="bigMsg">
          <span class="type" id="typeTarget"></span>
        </p>

        <div class="longLetter">
          <p>
            I don‚Äôt know what I did right, but somehow the universe decided that your smile and my heart should end up on the same team.
          </p>
          <p>
            You didn‚Äôt just walk into my life; you walked into all the parts of me I was hiding from everyone else, and still chose to stay.
          </p>
          <p>
            Distance is not the villain of our story, it‚Äôs just the background; the real story is two people holding on to each other even when the map looks complicated.
          </p>
          <p>
            One day, this Valentine week will just be a memory we smile about when we are together in the same city, sharing real chocolates instead of screenshots.
          </p>
          <p>
            Until that day, I promise to be gentle with your heart, patient with your moods, and loud about how much I love you‚Äîbecause you deserve a love that never makes you doubt your worth.
          </p>
        </div>

        <div class="footerActions">
          <button class="btnSmall" id="btnSecret" type="button">Reveal a secret üíù</button>
          <button class="btnSmall" id="btnStorm" type="button">Chocolate heart storm üí•</button>
          <button class="btnSmall" id="btnHug" type="button">A tight virtual hug ü§ó</button>
        </div>
      </section>

      <!-- Mini-games section -->
      <section class="glass games">
        <h2>Little games with lots of love</h2>
        <p style="margin:0 0 8px;font-size:13.5px;opacity:.9;">
          Play these tiny games whenever you miss me ‚Äì it‚Äôs my way of sending you a smile from Pune.
        </p>

        <div class="gamesGrid">
          <!-- Game 1: Catch the hearts -->
          <div class="gameCard">
            <h3>Catch the hearts ‚ù§Ô∏è</h3>
            <p>
              Tap as many hearts as you can in 20 seconds. Pink üíñ are 1 point, golden üíõ are 5 points.
              Fast taps build a combo for extra score!
            </p>

            <div class="gameArea" id="heartArea"></div>

            <div class="gameInfo">
              <span>Score: <strong id="heartScore">0</strong></span>
              <span>Combo: <strong id="heartCombo">x1</strong></span>
            </div>

            <div class="gameInfo" style="margin-top:6px;">
              <div style="flex:1;">
                <div style="font-size:11px;opacity:.85;margin-bottom:2px;">Time left</div>
                <div style="position:relative;height:8px;border-radius:999px;background:rgba(255,255,255,.12);overflow:hidden;">
                  <div id="heartBar" style="position:absolute;left:0;top:0;height:100%;width:100%;background:linear-gradient(90deg,#ff69b4,#ffd166);border-radius:999px;"></div>
                </div>
              </div>
              <span style="font-size:13px;">‚è± <strong id="heartTime">20</strong>s</span>
            </div>

            <button class="btnSmall" id="heartStart" type="button" style="margin-top:10px;">
              Start game
            </button>

            <div id="heartMessage" style="margin-top:8px;font-size:13px;opacity:.9;"></div>
          </div>

          <!-- Game 2: Love meter -->
          <div class="gameCard">
            <h3>Love meter üíò</h3>
            <p>Slide to tell me how much you love me. Try different values, then lock your final honest answer. üòâ</p>

            <div class="loveLabel" id="loveLabel">Love level: 60%</div>
            <input type="range" id="loveRange" class="loveRange" min="0" max="100" value="60">

            <button class="btnSmall" id="fixLove" type="button">Lock my answer üíå</button>

            <div class="loveResult" id="loveResult" style="min-height:40px;"></div>
          </div>

          <!-- Game 3: Memories of us (memory match) -->
          <div class="gameCard">
            <h3>Memories of us üß†üíñ</h3>
            <p>Flip the cards and match the pairs. Each symbol is a tiny piece of our story.</p>

            <div class="memoryGrid" id="memoryGrid"></div>
            <div class="memInfoLine">
              Moves: <strong id="memMoves">0</strong> ‚Ä¢ Pairs: <strong id="memPairs">0</strong>/6
            </div>
            <button class="btnSmall" id="memRestart" type="button" style="margin-top:8px;">Start / restart</button>
            <div class="memMessage" id="memMessage"></div>
          </div>

          <!-- Game 4: Lucky chocolate pick -->
          <div class="gameCard">
            <h3>Pick a lucky chocolate üçÄüç´</h3>
            <p>Tap one of the chocolates to reveal a random sweet message from me.</p>

            <div class="chocoRow">
              <button class="chocoBox" type="button"><span>üç´</span></button>
              <button class="chocoBox" type="button"><span>üç´</span></button>
              <button class="chocoBox" type="button"><span>üç´</span></button>
            </div>

            <div class="chocoMsg" id="chocoMsg"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
    // Clock
    const clockEl = document.getElementById("clock");
    function setClock(){
      const d = new Date();
      clockEl.textContent = d.toLocaleTimeString([], {hour:"2-digit", minute:"2-digit"});
    }
    setClock();
    setInterval(setClock, 15000);

    // Photo loader: try common names, then show heart
    const photo = document.getElementById("photo");
    const photoFallback = document.getElementById("photoFallback");
    const photoCandidates = ["image.jpg","image.jpeg","image.JPG","image.png","image.PNG","Image.jpg","IMAGE.jpg"];
    let photoIndex = 0;
    photo.src = photoCandidates[0];
    photo.addEventListener("error", () => {
      photoIndex++;
      if (photoIndex < photoCandidates.length){
        photo.src = photoCandidates[photoIndex];
      } else {
        photo.style.display = "none";
        photoFallback.style.display = "block";
      }
    });

    // Story typing lines
    const LINES = [
      "Somewhere between our late night talks and silly fights, you quietly became my favourite place to feel safe and soft.",
      "Every kilometre between Pune and Goa is just proof that our love is strong enough to stretch and still stay warm.",
      "This Valentine week isn‚Äôt about fancy plans, it‚Äôs about you and me choosing each other again and again, even through a screen.",
      "One day I‚Äôll be right in front of you, handing you real chocolates and the tightest hug instead of links and pixels.",
      "Until that day, pretend every message from me is a tiny kiss travelling across the map straight to you."
    ];
    const typeTarget = document.getElementById("typeTarget");
    let typing = false;
    function typeLine(text){
      if (typing) return;
      typing = true;
      typeTarget.textContent = "";
      let i = 0;
      function tick(){
        typeTarget.textContent = text.slice(0, i);
        i++;
        if (i <= text.length) requestAnimationFrame(tick);
        else typing = false;
      }
      tick();
    }
    typeLine(LINES[0]);

    document.querySelectorAll(".step").forEach((btn, index) => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".step").forEach(s => s.classList.remove("active"));
        btn.classList.add("active");
        typeLine(LINES[index]);
        popParticles("üíñ", 10);
      });
    });

    // Scroll + surprise
    document.getElementById("btnStory").addEventListener("click", () => {
      document.getElementById("story").scrollIntoView({behavior:"smooth", block:"start"});
      popParticles("üíå", 12);
    });
    document.getElementById("btnGift").addEventListener("click", () => {
      alert("I can‚Äôt pass chocolates through the screen, so I wrapped my heart into this little page for you. üíù");
      popParticles("üç´", 16, true);
    });

    // Cute pseudo-GIFs
    document.querySelectorAll(".gifCard").forEach(card => {
      card.addEventListener("click", () => {
        const emoji = card.dataset.pop || "üíñ";
        popParticles(emoji, 14);
      });
    });

    // Footer actions
    document.getElementById("btnSecret").addEventListener("click", () => {
      alert("Secret: I still get butterflies when I see your name pop up, even on the most normal days. üíù");
      popParticles("‚ú®", 14);
    });
    document.getElementById("btnStorm").addEventListener("click", () => popParticles("üç´", 28, true));
    document.getElementById("btnHug").addEventListener("click", () => {
      popParticles("ü§ó", 20);
      document.body.animate(
        [{transform:"translateX(0)"},{transform:"translateX(-10px)"},{transform:"translateX(10px)"},{transform:"translateX(0)"}],
        {duration:520,easing:"ease-in-out"}
      );
    });

    // Game 1: Catch the hearts
    const heartArea = document.getElementById("heartArea");
    const heartScoreEl = document.getElementById("heartScore");
    const heartComboEl = document.getElementById("heartCombo");
    const heartTimeEl = document.getElementById("heartTime");
    const heartBar = document.getElementById("heartBar");
    const heartMsg = document.getElementById("heartMessage");
    const heartStartBtn = document.getElementById("heartStart");

    let heartScore = 0;
    let heartTime = 20;
    let heartGameRunning = false;
    let heartSpawnInterval = null;
    let heartTimerInterval = null;
    let comboCount = 0;
    let comboMult = 1;
    let lastClickTime = 0;

    function resetHeartGame(){
      heartScore = 0;
      heartTime = 20;
      comboCount = 0;
      comboMult = 1;
      lastClickTime = 0;
      heartScoreEl.textContent = heartScore;
      heartComboEl.textContent = "x1";
      heartTimeEl.textContent = heartTime;
      heartBar.style.width = "100%";
      heartArea.innerHTML = "";
      heartMsg.textContent = "";
    }

    heartStartBtn.addEventListener("click", () => {
      if (heartGameRunning) return;
      resetHeartGame();
      heartGameRunning = true;
      heartMsg.textContent = "Go, my love! Tap the hearts as fast as you can!";
      heartStartBtn.disabled = true;

      const totalTime = heartTime;
      heartTimerInterval = setInterval(() => {
        heartTime--;
        if (heartTime < 0) heartTime = 0;
        heartTimeEl.textContent = heartTime;
        heartBar.style.width = (heartTime/totalTime)*100 + "%";
        if (heartTime <= 0){
          endHeartGame();
        }
      }, 1000);

      heartSpawnInterval = setInterval(spawnHeart, 500);
    });

    function spawnHeart(){
      if (!heartGameRunning) return;
      const x = Math.random() * 90 + 5;
      const y = Math.random() * 70 + 20;
      const isGold = Math.random() < 0.18;

      const el = document.createElement("button");
      el.className = "heartToken" + (isGold ? " gold" : "");
      el.type = "button";
      el.textContent = isGold ? "üíõ" : "üíñ";
      el.style.left = x + "%";
      el.style.top  = y + "%";

      el.addEventListener("click", () => {
        if (!heartGameRunning) return;
        const now = performance.now();
        const diff = now - lastClickTime;
        lastClickTime = now;

        if (diff < 800){
          comboCount++;
        } else {
          comboCount = 0;
        }
        comboMult = 1 + Math.min(3, Math.floor(comboCount / 3)); // x1‚Äìx4
        heartComboEl.textContent = "x" + comboMult;

        const base = isGold ? 5 : 1;
        heartScore += base * comboMult;
        heartScoreEl.textContent = heartScore;
        el.remove();
      });

      heartArea.appendChild(el);
      setTimeout(() => el.remove(), isGold ? 1300 : 1700);
    }

    function endHeartGame(){
      if (!heartGameRunning) return;
      heartGameRunning = false;
      clearInterval(heartSpawnInterval);
      clearInterval(heartTimerInterval);
      heartStartBtn.disabled = false;
      heartArea.innerHTML = "";

      let title;
      if (heartScore < 15)      title = "Sweet ‚Äì cute start! üç¨";
      else if (heartScore < 35) title = "Sweeter ‚Äì you‚Äôre really tapping! üç≠";
      else if (heartScore < 60) title = "Sweetest ‚Äì heart master! üç´";
      else                      title = "Heart thief ‚Äì you stole all my hearts! üíò";

      heartMsg.textContent = `${title} Final score: ${heartScore}.`;
      popParticles("‚ù§Ô∏è", Math.max(12, Math.min(heartScore, 40)));
    }

    // Game 2: Love slider
    const loveRange = document.getElementById("loveRange");
    const loveLabel = document.getElementById("loveLabel");
    const loveResult = document.getElementById("loveResult");
    const fixLoveBtn = document.getElementById("fixLove");

    function updateLoveLabel(){
      const v = Number(loveRange.value);
      let mood;
      if (v < 30)      mood = "hey, that‚Äôs illegal üòú";
      else if (v < 60) mood = "hmm‚Ä¶ learning to love me üí≠";
      else if (v < 90) mood = "okay, this is getting sweet üíï";
      else             mood = "almost perfect Valentine love üíò";
      loveLabel.textContent = `Love level: ${v}% (${mood})`;
    }
    updateLoveLabel();

    loveRange.addEventListener("input", updateLoveLabel);

    fixLoveBtn.addEventListener("click", () => {
      let current = Number(loveRange.value);
      const target = 100;
      const step = () => {
        current += 2;
        if (current >= target) current = target;
        loveRange.value = current;
        updateLoveLabel();
        if (current < target) requestAnimationFrame(step);
      };
      requestAnimationFrame(step);

      loveResult.textContent = "Locked at 100%. That‚Äôs the only answer I‚Äôll ever accept from you‚Äîand I still love you a little more than that. üíò";
      popParticles("üíò", 18);
    });

    // Game 3: Memories of us ‚Äì memory match grid
    const memoryGrid = document.getElementById("memoryGrid");
    const memMovesEl = document.getElementById("memMoves");
    const memPairsEl = document.getElementById("memPairs");
    const memMsgEl = document.getElementById("memMessage");
    const memRestartBtn = document.getElementById("memRestart");

    const MEM_SYMBOLS = ["üíñ","üç´","üß∏","üåô","üåπ","üéß"];
    let memDeck = [];
    let firstCard = null;
    let secondCard = null;
    let lockBoard = false;
    let memMoves = 0;
    let memPairs = 0;

    function shuffle(arr){
      for(let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function initMemoryGame(){
      const symbols = [...MEM_SYMBOLS];
      memDeck = shuffle([...symbols, ...symbols]);
      memoryGrid.innerHTML = "";
      firstCard = null;
      secondCard = null;
      lockBoard = false;
      memMoves = 0;
      memPairs = 0;
      memMovesEl.textContent = memMoves;
      memPairsEl.textContent = memPairs;
      memMsgEl.textContent = "Tap a card and remember where our little symbols are.";

      memDeck.forEach(sym => {
        const card = document.createElement("button");
        card.type = "button";
        card.className = "memoryCard hiddenSymbol";
        card.dataset.symbol = sym;
        card.textContent = "‚ù•";
        card.addEventListener("click", () => handleMemoryFlip(card));
        memoryGrid.appendChild(card);
      });
    }

    function handleMemoryFlip(card){
      if (lockBoard) return;
      if (card.classList.contains("matched") || card === firstCard) return;

      card.classList.remove("hiddenSymbol");
      card.classList.add("flipped");
      card.textContent = card.dataset.symbol;

      if (!firstCard){
        firstCard = card;
        return;
      }
      secondCard = card;
      lockBoard = true;
      memMoves++;
      memMovesEl.textContent = memMoves;

      if (firstCard.dataset.symbol === secondCard.dataset.symbol){
        firstCard.classList.remove("flipped");
        secondCard.classList.remove("flipped");
        firstCard.classList.add("matched");
        secondCard.classList.add("matched");
        firstCard.disabled = true;
        secondCard.disabled = true;
        firstCard = null;
        secondCard = null;
        lockBoard = false;
        memPairs++;
        memPairsEl.textContent = memPairs;

        if (memPairs === 6){
          memMsgEl.textContent = `You remembered all our tiny symbols in ${memMoves} moves. My memories of you are even stronger. üíû`;
          popParticles("üåπ",18);
        }
      } else {
        setTimeout(() => {
          [firstCard, secondCard].forEach(c => {
            c.classList.remove("flipped");
            c.classList.add("hiddenSymbol");
            c.textContent = "‚ù•";
          });
          firstCard = null;
          secondCard = null;
          lockBoard = false;
        }, 700);
      }
    }

    memRestartBtn.addEventListener("click", initMemoryGame);
    initMemoryGame();

    // Game 4: Lucky chocolates
    const chocoMsgs = [
      "If I could, I‚Äôd teleport right now with real chocolates and hide my face in your neck. ‚ú®",
      "Every time you miss me today, imagine me breaking a chocolate and saving the bigger piece for you. üç´",
      "One day this won‚Äôt be a screen ‚Äì it‚Äôll be my arms, my heartbeat, and a whole box of chocolates by your side. üíù",
      "You deserve a soft kind of love, the kind that never makes you question if you‚Äôre enough. I‚Äôm all in for that. üòå",
      "No matter how your day is going, remember: somewhere in Pune, the person who loves you most is thinking only about you. üíò"
    ];
    const chocoBoxes = document.querySelectorAll(".chocoBox");
    const chocoMsgEl = document.getElementById("chocoMsg");
    chocoBoxes.forEach(box => {
      box.addEventListener("click", () => {
        const random = chocoMsgs[Math.floor(Math.random()*chocoMsgs.length)];
        chocoMsgEl.textContent = random;
        popParticles("üç´", 14, true);
      });
    });

    // Particles
    function popParticles(emoji, count=12, mix=false){
      for(let i=0;i<count;i++){
        const p = document.createElement("div");
        const pick = mix ? (Math.random() < 0.5 ? "üíñ" : "üç´") : emoji;
        p.textContent = pick;
        p.className = "particle";
        p.style.left = (Math.random() * 80 + 10) + "vw";
        p.style.top  = (Math.random() * 30 + 55) + "vh";
        p.style.fontSize = (22 + Math.random()*18) + "px";
        p.style.animationDuration = (3 + Math.random()*1.4) + "s";
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 5200);
      }
    }
  </script>
</body>
</html>
